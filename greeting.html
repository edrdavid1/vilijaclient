<!DOCTYPE html>
<html lang="be">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vilija</title>
    <link rel="icon" type="image/png" href="./assets/icon.png">
    <link rel="stylesheet" href="greeting.css">
</head>
<body>
    <div class="welcome-container">
        <h1 class="greeting-text"></h1>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
    const token = localStorage.getItem('token');
    if (!token) {
        window.location.href = '/login'; // Вяртаем на старонку ўваходу, калі няма токена
        return;
    }

    // Атрыманне імя карыстальніка з localStorage
    const username = localStorage.getItem('username');
    if (!username) {
        alert('Імя карыстальніка не знойдзена!');
        return;
    }

    const greetingText = `${username} вітаем у Vilija`;
    const greetingElement = document.querySelector('.greeting-text');

    // Стварэнне эфекту друкавання
    let i = 0;
    const speed = 100; // хуткасць друкавання
    function typeWriter() {
        if (i < greetingText.length) {
            greetingElement.innerHTML += greetingText.charAt(i);
            i++;
            setTimeout(typeWriter, speed);
        } else {
            // Пасля завершэння анімацыі правяраем токен і перанакіроўваем
            setTimeout(() => {
                window.location.href = '/chat'; // Напрамок на чат
            }, 500); // 1500 мс затрымка пасля анімацыі
        }
    }
    typeWriter();
});

    </script>
</body>
</html>

